<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detalle de Obra - Lorena Minoretti Art</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Estilos simples para el detalle */
    .obra-detalle {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 1rem;
      font-family: 'Open Sans', sans-serif;
    }
    .obra-titulo {
      font-family: 'Playfair Display', serif;
      font-weight: 600;
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    .obra-precio {
      font-weight: 700;
      color: #2c6e49;
      margin-bottom: 1rem;
    }
    .obra-descripcion {
      margin-bottom: 1rem;
    }
    .obra-tamano {
      font-style: italic;
      margin-bottom: 1.5rem;
    }
    .slider {
      position: relative;
      max-width: 100%;
      overflow: hidden;
      border-radius: 10px;
      margin-bottom: 2rem;
    }
    .slider img {
      width: 100%;
      display: none;
      border-radius: 10px;
    }
    .slider img.active {
      display: block;
    }
    .slider-buttons {
      text-align: center;
    }
    .slider-buttons button {
      background-color: #2c6e49;
      border: none;
      color: white;
      padding: 0.5rem 1rem;
      margin: 0 0.5rem;
      cursor: pointer;
      border-radius: 5px;
      font-size: 1rem;
      transition: background-color 0.3s;
    }
    .slider-buttons button:hover {
      background-color: #195231;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="logo">Lorena Minoretti Art</div>
    <nav class="navbar" id="navbar">
      <ul>
        <li><a href="index.html#grilla-obras">Obras</a></li>
        <li><a href="quien_soy.html">Quién Soy</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
    </nav>
    <button class="menu-toggle" id="menu-toggle">☰</button>
  </header>

  <main>
    <section class="obra-detalle" id="obra-detalle">
      <!-- Aquí cargamos el detalle dinámicamente -->
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <p>© 2025 Lorena Minoretti Art</p>
      <p>
        <a href="https://www.instagram.com/" target="_blank">Instagram</a> |
        <a href="mailto:lorenaminoretti@gmail.com">Mail</a> |
        <a href="https://wa.me/5490000000000" target="_blank">WhatsApp</a>
      </p>
    </div>
  </footer>

  <script>
    // Toggle menú hamburguesa
    const toggle = document.getElementById("menu-toggle");
    const nav = document.getElementById("navbar");
    toggle.addEventListener("click", () => {
      nav.classList.toggle("open");
    });

    // Datos de las obras (idealmente cargar desde un archivo externo)
    const obras = [
      {
        id: 1,
        nombre: "Abstracción Verde",
        precio: "$8.000",
        descripcion: "Obra en acuarela inspirada en la naturaleza.",
        tamano: "30x40 cm",
        imagenes: [
          "img/obra1a.jpg",
          "img/obra1b.jpg"
        ]
      },
      {
        id: 2,
        nombre: "Cielo Turquesa",
        precio: "$10.000",
        descripcion: "Tonos celestes y turquesas en una composición aérea.",
        tamano: "40x50 cm",
        imagenes: [
          "img/obra2a.jpg",
          "img/obra2b.jpg"
        ]
      },
      {
        id: 3,
        nombre: "Horizonte Acuático",
        precio: "$9.500",
        descripcion: "Evocación del mar con acuarelas suaves.",
        tamano: "35x45 cm",
        imagenes: [
          "img/obra3a.jpg",
          "img/obra3b.jpg"
        ]
      }
    ];

    // Obtener el parámetro id de la URL
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function mostrarObra(id) {
      const obra = obras.find(o => o.id === Number(id));
      const contenedor = document.getElementById("obra-detalle");

      if (!obra) {
        contenedor.innerHTML = "<p>Obra no encontrada.</p>";
        return;
      }

      // Crear slider de imágenes
      let sliderHTML = '<div class="slider">';
      obra.imagenes.forEach((img, i) => {
        sliderHTML += `<img src="${img}" alt="${obra.nombre} ${i + 1}" class="${i === 0 ? "active" : ""}">`;
      });
      sliderHTML += '</div>';

      // Botones para cambiar imágenes
      sliderHTML += `
        <div class="slider-buttons">
          <button id="prev-btn">Anterior</button>
          <button id="next-btn">Siguiente</button>
        </div>
      `;

      contenedor.innerHTML = `
        <h2 class="obra-titulo">${obra.nombre}</h2>
        <p class="obra-precio">${obra.precio}</p>
        ${sliderHTML}
        <p class="obra-descripcion">${obra.descripcion}</p>
        <p class="obra-tamano">Tamaño: ${obra.tamano}</p>
        <a href="index.html#grilla-obras" style="color:#2c6e49; text-decoration:none; font-weight:bold;">← Volver a Obras</a>
      `;

      // Lógica slider
      const imgs = contenedor.querySelectorAll(".slider img");
      let currentIndex = 0;

      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");

      function showImage(index) {
        imgs.forEach(img => img.classList.remove("active"));
        imgs[index].classList.add("active");
      }

      prevBtn.addEventListener("click", () => {
        currentIndex = (currentIndex - 1 + imgs.length) % imgs.length;
        showImage(currentIndex);
      });

      nextBtn.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % imgs.length;
        showImage(currentIndex);
      });
    }

    // Ejecutar
    const id = getQueryParam("id");
    mostrarObra(id);
  </script>
</body>
</html>
